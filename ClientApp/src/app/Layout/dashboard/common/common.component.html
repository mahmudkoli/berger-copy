
<!-- <app-page-title [heading]="heading" [subheading]="subheading" [icon]="icon"></app-page-title> -->

<div class="mb-3 card">
  <div class="card-header-tab card-header">
    <div class="card-header-title font-size-lg text-capitalize font-weight-normal">
      <i class="header-icon lnr-charts icon-gradient bg-happy-green"> </i>
      POSM Summary (monthly)
    </div>
  </div>
  <div class="no-gutters row">
    <div class="col-sm-6 col-md-4 col-xl-4">
      <div class="card no-shadow rm-border bg-transparent widget-chart text-left">
        <div class="icon-wrapper rounded-circle">
          <div class="icon-wrapper-bg opacity-10 bg-warning"></div>
          <i class="pe-7s-album text-white opacity-8"></i>
        </div>
        <div class="widget-chart-content">
          <div class="widget-subheading">Completed POSM Installation</div>
          <div class="widget-numbers">{{this.dashboardModel.posmInstallationProductCount}}</div>
          <div class="widget-description opacity-8 text-focus">
            Total :
            <span class="pl-1">{{this.dashboardModel.totalPOSMInstallationProductCount}}</span>
            <!-- <div class="d-inline text-danger pr-1">
              <fa name="angle-down"></fa>
              
            </div>
            less earnings -->
          </div>
        </div>
      </div>
      <div class="divider m-0 d-md-none d-sm-block"></div>
    </div>
    <div class="col-sm-6 col-md-4 col-xl-4">
      <div class="card no-shadow rm-border bg-transparent widget-chart text-left">
        <div class="icon-wrapper rounded-circle">
          <div class="icon-wrapper-bg opacity-9 bg-danger"></div>
          <i class="pe-7s-portfolio text-white"></i>
        </div>
        <div class="widget-chart-content">
          <div class="widget-subheading">Completed POSM Removal</div>
          <div class="widget-numbers"><span>{{this.dashboardModel.posmRemovalProductCount}}</span></div>
          <div class="widget-description opacity-8 text-focus">
            Total :
            <span class="pl-1">{{this.dashboardModel.totalPOSMRemovalProductCount}}</span>
            <!-- Grow Rate:
            <span class="text-info pl-1">
              <fa name="angle-down"></fa>
              
            </span> -->
          </div>
        </div>
      </div>
      <div class="divider m-0 d-md-none d-sm-block"></div>
    </div>
    <div class="col-sm-12 col-md-4 col-xl-4">
      <div class="card no-shadow rm-border bg-transparent widget-chart text-left">
        <div class="icon-wrapper rounded-circle">
          <div class="icon-wrapper-bg opacity-9 bg-success"></div>
          <i class="pe-7s-light text-white"></i>
        </div>
        <div class="widget-chart-content">
          <div class="widget-subheading">Completed POSM Repair</div>
          <div class="widget-numbers text-success"><span>{{this.dashboardModel.posmRepairProductCount}}</span></div>
          <div class="widget-description text-focus">
            Total :
            <span class="pl-1">{{this.dashboardModel.totalPOSMRepairProductCount}}</span>
            <!-- Increased by
            <span class="text-warning pl-1">
              <fa name="angle-up"></fa>
             
            </span> -->
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- <div class="text-center d-block p-3 card-footer">
    <button class="btn-pill btn-shadow btn-wide fsize-1 btn btn-primary btn-lg">
      <span class="mr-2 opacity-7">
        <i class="icon icon-anim-pulse ion-ios-analytics-outline"></i>
      </span>
      <span class="mr-1">View Complete Report</span>
    </button>
  </div> -->
</div>

<div class="main-card mb-3 card">
  <div class="card-header">
    <div class="card-header-title font-size-lg text-capitalize font-weight-normal">Contract Merchandiser Status</div>
  </div>
  <div class="table-responsive">
    <table class="align-middle text-truncate mb-0 table table-borderless table-hover">
      <thead>
        <tr>
          <th class="text-center">#</th>
          <th class="text-center">Date</th>
          <th class="text-center">FM User</th>
          <th class="text-center">CM User</th>
          <th class="text-center">Outlet</th>
          <!-- <th class="text-center">Route</th>
          
          <th class="text-center">Status</th> -->
          
          <th class="text-center">Target Achievement</th>
          <!-- <th class="text-center">Actions</th> -->
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of dashboardModel.topFiveCMTasks; let i = index">
          <td class="text-center text-muted" style="width: 80px;">#{{i+1}}</td>
          <td class="text-center">
            <span class="pr-2 opacity-6">
              <i class="fa fa-business-time"></i>
            </span>
            {{item.date | date:'dd MMMM'}}
          </td>
          <!-- <td class="text-center" style="width: 80px;">
            <img width="40" class="rounded-circle" src="./assets/images/avatars/1.jpg" alt="">
          </td> -->
          <td class="text-center"><a [routerLink]="">{{item.fmUserName}}</a></td>
          <td class="text-center"><a [routerLink]="">{{item.cmUserName}}</a></td>
          <td class="text-center"><a [routerLink]="">{{item.outletNames}}</a></td>
          <!-- <td class="text-center"><a [routerLink]="">{{item.outlet.route.routeName}}</a></td>
          
          <td class="text-center">
            <div *ngIf="item.status == 0" class="badge badge-pill badge-secondary">{{item.displayStatus}}</div>
            <div *ngIf="item.status == 1" class="badge badge-pill badge-primary">{{item.displayStatus}}</div>
            <div *ngIf="item.status == 2" class="badge badge-pill badge-info">{{item.displayStatus}}</div>
            <div *ngIf="item.status == 3" class="badge badge-pill badge-dark">{{item.displayStatus}}</div>
            <div *ngIf="item.status == 4" class="badge badge-pill badge-danger">{{item.displayStatus}}</div>
            <div *ngIf="item.status == 5" class="badge badge-pill badge-success">{{item.displayStatus}}</div>
            <div *ngIf="item.status == 6" class="badge badge-pill badge-warning">{{item.displayStatus}}</div>
            <div *ngIf="item.status == 7" class="badge badge-pill badge-warning">{{item.displayStatus}}</div>
          </td> -->
          
          <td class="text-center" style="width: 200px;">
            <div class="widget-content p-0">
              <div class="widget-content-outer">
                <div class="widget-content-wrapper">
                  <div class="widget-content-left pr-2">
                    <div class="widget-numbers fsize-1 text-danger">{{item.totalPercentage}}</div>
                  </div>
                  <div class="widget-content-right w-100">
                    <div class="progress-bar-xs progress">
                      <div class="progress-bar bg-success" role="progressbar" aria-valuenow="" aria-valuemin="0"
                        aria-valuemax="100" [style.width]="item.totalPercentage"
                        ></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </td>
          <!-- <td class="text-center">
            <div role="group" class="btn-group-sm btn-group">
              <button class="btn-shadow btn btn-primary">Hire</button>
              <button class="btn-shadow btn btn-primary">Fire</button>
            </div>
          </td> -->
        </tr>
        
      </tbody>
    </table>
  </div>
  <div class="d-block p-4 text-center card-footer">
    <button class="btn-pill btn-shadow btn-wide fsize-1 btn btn-primary btn-lg"
    
    (click)="viewCompleteReport()">
      <span class="mr-2 opacity-7">
        <i class="fa fa-cog fa-spin"></i>
      </span>
      <span class="mr-1">View Complete Report</span>
    </button>
  </div>
</div>

<div class="row">
  <div class="col-sm-12 col-lg-12">
    <div class="mb-3 card">
      <div class="card-header-tab card-header">
        <div class="card-header-title font-size-lg text-capitalize font-weight-normal">
          <i class="header-icon lnr-cloud-download icon-gradient bg-happy-itmeo"> </i>
          CM Activity (Monthly)
        </div>
      </div>
      <div class="p-0 card-body">
        <div class="p-1 slick-slider-sm mx-auto">
          <div class="widget-chart widget-chart2 text-left p-0">
            <div class="widget-chat-wrapper-outer">
              <div class="widget-chart-content widget-chart-content-lg pb-0">
                <div class="widget-chart-flex">
                  <div class="widget-title opacity-5 text-muted text-uppercase"></div>
                </div>
                <!-- <div class="widget-numbers">
                  <div class="widget-chart-flex">
                    <div>
                      <span class="text-warning"></span>
                    </div>
                    <div class="widget-title ml-2 font-size-lg font-weight-normal text-dark">
                      <span class="opacity-5 text-muted pl-2 pr-1">5%</span>
                      increase
                    </div>
                  </div>
                </div> -->
              </div>
              <div class="widget-chart-wrapper he-auto opacity-10 m-0">
                <div class="d-block">
                  <canvas baseChart class="chart" [datasets]="datasets" [labels]="labels" [colors]="lineChartColors"
                    [options]="options" [chartType]="'line'"></canvas>
                </div>
              </div>
            </div>
          </div>
        </div>

        <h6 class="text-muted text-uppercase font-size-md opacity-5 pl-3 pr-3 pb-1 font-weight-normal">CM Activity Progress</h6>
        <ul class="list-group list-group-flush">
          <li class="p-3 bg-transparent list-group-item">
            <div class="widget-content p-0">
              <div class="widget-content-outer">
                <div class="widget-content-wrapper">
                  <div class="widget-content-left">
                    <div class="widget-heading">Total CM Activity Count</div>
                    <!-- <div class="widget-subheading">Last year expenses</div> -->
                  </div>
                  <div class="widget-content-right">
                    <div class="widget-numbers text-success">
                      <small></small>
                      {{this.dashboardModel.dailyCMActivityCount}}
                    </div>
                  </div>
                </div>
                <!-- <div class="widget-progress-wrapper">
                  <div class="progress-bar-sm progress-bar-animated-alt progress">
                    <div class="progress-bar bg-primary" role="progressbar" aria-valuenow="43" aria-valuemin="0"
                      aria-valuemax="100" style="width: 43%;"></div>
                  </div>
                  <div class="progress-sub-label">
                    <div class="sub-label-left">YoY Growth</div>
                    <div class="sub-label-right">100%</div>
                  </div>
                </div> -->
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <div class="col-sm-12 col-lg-12">
    <div class="row">
      <div class="col-lg-4">
        <div class="card mb-3 widget-chart widget-chart2 text-left card-btm-border card-shadow-success border-success">
          <div class="widget-chat-wrapper-outer">
            <div class="widget-chart-content pt-3 pl-3 pb-1">
              <div class="widget-chart-flex">
                <div class="widget-numbers">
                  <div class="widget-chart-flex">
                    <div class="fsize-4">
                      <!-- <small class="opacity-5">$</small> -->
                      <span>{{this.dashboardModel.totalLastMonthPOSMInstallationProductCount}}</span></div>
                  </div>
                </div>
              </div>
              <h6 class="widget-subheading mb-0 opacity-5">Last Month Total POSM Installation</h6>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-4">
        <div class="card mb-3 widget-chart widget-chart2 text-left card-btm-border card-shadow-primary border-primary">
          <div class="widget-chat-wrapper-outer">
            <div class="widget-chart-content pt-3 pl-3 pb-1">
              <div class="widget-chart-flex">
                <div class="widget-numbers">
                  <div class="widget-chart-flex">
                    <div class="fsize-4">
                      <!-- <small class="opacity-5">$</small> -->
                      <span>{{this.dashboardModel.totalLastMonthPOSMRepairProductCount}}</span></div>
                  </div>
                </div>
              </div>
              <h6 class="widget-subheading mb-0 opacity-5">Last Month Total POSM Repair</h6>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-4">
        <div class="card mb-3 widget-chart widget-chart2 text-left card-btm-border card-shadow-warning border-warning">
          <div class="widget-chat-wrapper-outer">
            <div class="widget-chart-content pt-3 pl-3 pb-1">
              <div class="widget-chart-flex">
                <div class="widget-numbers">
                  <div class="widget-chart-flex">
                    <div class="fsize-4">
                      <!-- <small class="opacity-5">$</small> -->
                      <span>{{this.dashboardModel.totalLastMonthPOSMRemovalProductCount}}</span></div>
                  </div>
                </div>
              </div>
              <h6 class="widget-subheading mb-0 opacity-5">Last Month Total POSM Removal</h6>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-4">
        <div class="card mb-3 widget-chart widget-chart2 text-left card-btm-border card-shadow-danger border-danger">
          <div class="widget-chat-wrapper-outer">
            <div class="widget-chart-content pt-3 pl-3 pb-1">
              <div class="widget-chart-flex">
                <div class="widget-numbers">
                  <div class="widget-chart-flex">
                    <div class="fsize-4">
                      <!-- <small class="opacity-5">$</small> -->
                      <span>{{this.dashboardModel.totalLastMonthAuditReportProductCount}}</span></div>
                  </div>
                </div>
              </div>
              <h6 class="widget-subheading mb-0 opacity-5">Last Month Total Audit</h6>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-4">
        <div class="card mb-3 widget-chart widget-chart2 text-left card-btm-border card-shadow-info border-info">
          <div class="widget-chat-wrapper-outer">
            <div class="widget-chart-content pt-3 pl-3 pb-1">
              <div class="widget-chart-flex">
                <div class="widget-numbers">
                  <div class="widget-chart-flex">
                    <div class="fsize-4">
                      <!-- <small class="opacity-5">$</small> -->
                      <span>{{this.dashboardModel.totalLastMonthSurveyReportProductCount}}</span></div>
                  </div>
                </div>
              </div>
              <h6 class="widget-subheading mb-0 opacity-5">Last Month Total Survey</h6>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-4">
        <div class="card mb-3 widget-chart widget-chart2 text-left card-btm-border card-shadow-warning border-warning">
          <div class="widget-chat-wrapper-outer">
            <div class="widget-chart-content pt-3 pl-3 pb-1">
              <div class="widget-chart-flex">
                <div class="widget-numbers">
                  <div class="widget-chart-flex">
                    <div class="fsize-4">
                      <!-- <small class="opacity-5">$</small> -->
                      <span>{{this.dashboardModel.totalLastMonthConsumerSurveyReportProductCount}}</span></div>
                  </div>
                </div>
              </div>
              <h6 class="widget-subheading mb-0 opacity-5">Last Month Total Consumer Survey</h6>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

